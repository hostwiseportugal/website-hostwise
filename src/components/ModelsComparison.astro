---
const comparisonData = [
  {
    feature: "Ideal Para",
    guaranteed: "Quem valoriza estabilidade e quer receber um valor fixo mensal, sem preocupações.",
    commission: "Quem quer acompanhar os resultados e beneficiar da performance do imóvel."
  },
  {
    feature: "Receita",
    guaranteed: "Médio",
    commission: "Alto",
    highlight: true
  },
  {
    feature: "Valor Recebido por Mês",
    guaranteed: "Fixo",
    commission: "Dependente da Ocupação",
    highlight: true
  },
  {
    feature: "Risco",
    guaranteed: "Baixo",
    commission: "Alto",
    highlight: true
  },
  {
    feature: "Desgaste da Propriedade/Inventário",
    guaranteed: "Host Wise trata das Manutenções da Propriedade (exceto estruturais) e da compra de inventário, se necessário.",
    commission: "Proprietário Encarregue das Manutenções e da Decoração do Imóvel."
  },
  {
    feature: "Utilities",
    guaranteed: "Ao Encargo da Host Wise",
    commission: "Ao Encargo do Proprietário"
  },
  {
    feature: "Trabalho para o Proprietário",
    guaranteed: "Reduzido ou Nenhum",
    commission: "Encargo com as Manutenções"
  },
  {
    feature: "Tipo de Contrato",
    guaranteed: "Longo-Prazo",
    commission: "Anual"
  }
];
---

<section class="models-comparison">
  <div class="container">
    <div class="comparison-header">
      <span class="section-badge">Compare os Nossos Modelos</span>
      <h2>A Gestão de Alojamento Local Que Se Adapta ao seu Perfil de Investimento</h2>
      <p>
        Cada proprietário tem objetivos diferentes — estabilidade, crescimento ou equilíbrio entre risco e retorno. 
      </p>
      <p>
         É por isso que na Host Wise oferecemos dois modelos de gestão de alojamento local pensados para se adaptarem ao seu perfil e ao seu imóvel.   
      </p>
        
      </p>
      <p>
        Quer prefira uma abordagem flexível, com partilha de resultados, ou um rendimento estável e garantido
        todos os meses, temos a solução certa para si.
      </p>
    </div>

    <!-- Desktop Table -->
    <div class="comparison-table-wrapper desktop-only">
      <table class="comparison-table">
        <thead>
          <tr>
            <th class="feature-column"></th>
            <th class="model-column guaranteed-column">
              <div class="model-header">
                <div class="model-icon guaranteed-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                    <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                  </svg>
                </div>
                <h3>Rentabilidade Garantida</h3>
              </div>
            </th>
            <th class="model-column commission-column">
              <div class="model-header">
                <div class="model-icon commission-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                    <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"/>
                  </svg>
                </div>
                <h3>Modelo de Comissão</h3>
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          {comparisonData.map((row, index) => (
            <tr class={row.highlight ? 'highlight-row' : ''} data-row={index}>
              <td class="feature-cell">
                <strong>{row.feature}</strong>
              </td>
              <td class="value-cell guaranteed-cell">
                <div class="cell-content">
                  {row.guaranteed}
                </div>
              </td>
              <td class="value-cell commission-cell">
                <div class="cell-content">
                  {row.commission}
                </div>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>

    <!-- Mobile Cards -->
    <div class="comparison-cards mobile-only">
      <div class="model-toggle">
        <button class="toggle-btn active" data-model="guaranteed">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
          </svg>
          Rentabilidade Garantida
        </button>
        <button class="toggle-btn" data-model="commission">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
            <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z"/>
          </svg>
          Modelo de Comissão
        </button>
      </div>

      <div class="cards-container">
        <div class="model-card guaranteed-card active" data-card="guaranteed">
          {comparisonData.map((row) => (
            <div class="card-row">
              <div class="card-feature">{row.feature}</div>
              <div class="card-value">{row.guaranteed}</div>
            </div>
          ))}
        </div>

        <div class="model-card commission-card" data-card="commission">
          {comparisonData.map((row) => (
            <div class="card-row">
              <div class="card-feature">{row.feature}</div>
              <div class="card-value">{row.commission}</div>
            </div>
          ))}
        </div>
      </div>

      <div class="mobile-cta">
        <a href="#contacto" class="btn-primary-large">
          Falar com um Especialista
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" width="20" height="20">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </div>
    </div>

    <!-- CTA Section -->
    <div class="comparison-cta">
      <h3>Qual o Modelo Certo para Si?</h3>
      <p>Receba uma análise personalizada e descubra qual modelo maximiza os rendimentos do seu imóvel.</p>
      <a href="https://hostwise.typeform.com/to/pWgP4EuZ?" class="cta-primary-btn">
        Falar com um Especialista
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" width="20" height="20">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  .models-comparison {
    padding: 100px 20px;
    background: linear-gradient(135deg, #F8FCFF 0%, #fff 100%);
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
  }

  .comparison-header {
    text-align: center;
    max-width: 900px;
    margin: 0 auto 60px;
  }

  .section-badge {
    display: inline-block;
    background: rgba(92, 176, 214, 0.15);
    color: var(--secondary);
    padding: 8px 20px;
    border-radius: 24px;
    font-weight: 700;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 16px;
  }

  .comparison-header h2 {
    font-size: 3rem;
    color: var(--primary);
    margin-bottom: 24px;
    line-height: 1.2;
  }

  .comparison-header p {
    font-size: 1.15rem;
    color: var(--text);
    opacity: 0.85;
    line-height: 1.7;
    margin-bottom: 16px;
  }

  .comparison-header p:last-child {
    margin-bottom: 0;
  }

  /* Desktop Table */
  .desktop-only {
    display: none;
  }

  @media (min-width: 768px) {
    .desktop-only {
      display: block;
    }
  }

  .comparison-table-wrapper {
    overflow-x: auto;
    border-radius: 20px;
    box-shadow: 0 12px 48px rgba(12, 68, 99, 0.1);
    background: white;
  }

  .comparison-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
  }

  .comparison-table thead th {
    padding: 0;
    border-bottom: 2px solid var(--blue-light);
  }

  .feature-column {
    width: 30%;
    text-align: left;
  }

  .model-column {
    width: 35%;
    text-align: center;
  }

  .model-header {
    padding: 32px 24px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }

  .guaranteed-column .model-header {
    background: linear-gradient(135deg, rgba(92, 176, 214, 0.1) 0%, rgba(92, 176, 214, 0.05) 100%);
  }

  .commission-column .model-header {
    background: linear-gradient(135deg, rgba(12, 68, 99, 0.1) 0%, rgba(12, 68, 99, 0.05) 100%);
  }

  .model-icon {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: transform 0.3s;
  }

  .guaranteed-icon {
    background: linear-gradient(135deg, var(--secondary) 0%, rgba(92, 176, 214, 1) 100%);
  }

  .commission-icon {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  }

  .model-header h3 {
    font-size: 1.5rem;
    color: var(--primary);
    margin: 0;
    font-weight: 700;
  }

  .comparison-table tbody tr {
    border-bottom: 1px solid rgba(92, 176, 214, 0.1);
    transition: background-color 0.3s;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInRow 0.5s forwards;
  }

  @keyframes fadeInRow {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .comparison-table tbody tr[data-row="0"] { animation-delay: 0.1s; }
  .comparison-table tbody tr[data-row="1"] { animation-delay: 0.15s; }
  .comparison-table tbody tr[data-row="2"] { animation-delay: 0.2s; }
  .comparison-table tbody tr[data-row="3"] { animation-delay: 0.25s; }
  .comparison-table tbody tr[data-row="4"] { animation-delay: 0.3s; }
  .comparison-table tbody tr[data-row="5"] { animation-delay: 0.35s; }
  .comparison-table tbody tr[data-row="6"] { animation-delay: 0.4s; }
  .comparison-table tbody tr[data-row="7"] { animation-delay: 0.45s; }

  .comparison-table tbody tr:hover {
    background-color: rgba(92, 176, 214, 0.03);
  }

  .comparison-table tbody tr:last-child {
    border-bottom: none;
  }

  .highlight-row {
    background-color: rgba(92, 176, 214, 0.05);
  }

  .highlight-row:hover {
    background-color: rgba(92, 176, 214, 0.08);
  }

  .feature-cell {
    padding: 24px;
    text-align: left;
    color: var(--primary);
    font-weight: 600;
    font-size: 1rem;
  }

  .value-cell {
    padding: 24px;
    text-align: center;
    position: relative;
  }

  .guaranteed-cell {
    background: linear-gradient(90deg, rgba(92, 176, 214, 0.02) 0%, transparent 100%);
  }

  .commission-cell {
    background: linear-gradient(90deg, transparent 0%, rgba(12, 68, 99, 0.02) 100%);
  }

  .cell-content {
    color: var(--text);
    line-height: 1.6;
    font-size: 0.95rem;
  }

  /* Mobile Cards */
  .mobile-only {
    display: block;
  }

  @media (min-width: 768px) {
    .mobile-only {
      display: none;
    }
  }

  .model-toggle {
    display: flex;
    gap: 12px;
    margin-bottom: 24px;
    padding: 4px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(12, 68, 99, 0.08);
  }

  .toggle-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 16px 20px;
    background: transparent;
    border: none;
    border-radius: 10px;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text);
    cursor: pointer;
    transition: all 0.3s;
  }

  .toggle-btn svg {
    opacity: 0.5;
    transition: opacity 0.3s;
  }

  .toggle-btn.active {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
  }

  .toggle-btn.active svg {
    opacity: 1;
  }

  .cards-container {
    position: relative;
    min-height: 600px;
  }

  .model-card {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    background: white;
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 8px 32px rgba(12, 68, 99, 0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateX(20px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .model-card.active {
    opacity: 1;
    visibility: visible;
    transform: translateX(0);
    position: relative;
  }

  .card-row {
    padding: 20px 0;
    border-bottom: 1px solid rgba(92, 176, 214, 0.1);
  }

  .card-row:last-child {
    border-bottom: none;
  }

  .card-feature {
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 8px;
    font-size: 0.95rem;
  }

  .card-value {
    color: var(--text);
    line-height: 1.6;
    font-size: 0.9rem;
  }

  .mobile-cta {
    margin-top: 32px;
    text-align: center;
  }

  .btn-primary-large {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: 18px 36px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s;
    box-shadow: 0 4px 16px rgba(12, 68, 99, 0.2);
  }

  .btn-primary-large:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(12, 68, 99, 0.3);
  }

  /* Comparison CTA */
  .comparison-cta {
    text-align: center;
    margin-top: 60px;
    padding: 48px 40px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    border-radius: 24px;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
  }

  .comparison-cta h3 {
    font-size: 2rem;
    color: white;
    margin-bottom: 12px;
    font-weight: 700;
  }

  .comparison-cta p {
    font-size: 1.1rem;
    color: white;
    opacity: 0.95;
    margin-bottom: 28px;
  }

  .cta-primary-btn {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    padding: 16px 36px;
    background: white;
    color: var(--primary);
    border-radius: 12px;
    font-weight: 700;
    font-size: 1.05rem;
    text-decoration: none;
    transition: all 0.3s;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  }

  .cta-primary-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
    gap: 16px;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .models-comparison {
      padding: 80px 20px;
    }

    .comparison-header h2 {
      font-size: 2.5rem;
    }
  }

  @media (max-width: 768px) {
    .comparison-header h2 {
      font-size: 2rem;
    }

    .comparison-header p {
      font-size: 1rem;
    }

    .toggle-btn {
      font-size: 0.85rem;
      padding: 14px 16px;
    }

    .toggle-btn svg {
      width: 16px;
      height: 16px;
    }

    .comparison-cta {
      padding: 40px 28px;
    }

    .comparison-cta h3 {
      font-size: 1.65rem;
    }

    .comparison-cta p {
      font-size: 1rem;
    }
  }

  @media (max-width: 480px) {
    .comparison-header h2 {
      font-size: 1.75rem;
    }

    .toggle-btn {
      flex-direction: column;
      gap: 4px;
      font-size: 0.8rem;
      padding: 12px 8px;
    }

    .comparison-cta h3 {
      font-size: 1.5rem;
    }

    .comparison-cta p {
      font-size: 0.95rem;
    }

    .cta-primary-btn {
      font-size: 1rem;
      padding: 14px 28px;
    }
  }
</style>

<script>
  class ModelsComparisonToggle {
    private toggleBtns: NodeListOf<HTMLElement>;
    private cards: NodeListOf<HTMLElement>;

    constructor() {
      this.toggleBtns = document.querySelectorAll('.toggle-btn');
      this.cards = document.querySelectorAll('.model-card');
      this.init();
    }

    init() {
      this.toggleBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const model = btn.dataset.model;
          if (model) {
            this.switchModel(model);
          }
        });
      });
    }

    switchModel(model: string) {
      // Update buttons
      this.toggleBtns.forEach(btn => {
        if (btn.dataset.model === model) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });

      // Update cards
      this.cards.forEach(card => {
        if (card.dataset.card === model) {
          card.classList.add('active');
        } else {
          card.classList.remove('active');
        }
      });
    }
  }

  if (typeof window !== 'undefined') {
    document.addEventListener('DOMContentLoaded', () => {
      new ModelsComparisonToggle();
    });
  }
</script>
